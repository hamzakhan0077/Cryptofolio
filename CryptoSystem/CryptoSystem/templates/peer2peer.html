{% extends "layout.html" %}


{% block linksAfterLogin %}
<li><a href="{{ url_for('market') }}" class="nav-link">Market Trade</a></li>
<li><a href=" " class="nav-link">Peer to Peer Trade</a></li>
<li><a href="{{ url_for('showWallet') }}" class="nav-link">Wallet</a></li>
<li><a href="{{ url_for('nft') }}" class="nav-link">NFT</a></li>
<li><a href="/viewUserProfile/{{ email_for_nav }}" class="nav-link">View Profile</a></li>
<li><a href="{{ url_for('logout') }}" class="nav-link">Logout</a></li>


{% endblock %}

{% block peer2peer %}

     <section id="pricetable" class="section-padding">
        <div class="container">
			<div class="row">
				<div class="col-12 text-center">
					<div class="section-title">
						<h5>Peer To Peer Trading</h5>
						<h3>Check out some <span>Peer Trade Deals</span></h3>
					</div>
				</div>
			</div>
			<div class="row">
			<script type="text/javascript">
					baseUrl = "https://widgets.cryptocompare.com/";
					var scripts = document.getElementsByTagName("script");
					var embedder = scripts[ scripts.length - 1 ];
					(function (){
					var appName = encodeURIComponent(window.location.hostname);
					if(appName==""){appName="local";}
					var s = document.createElement("script");
					s.type = "text/javascript";
					s.async = true;
					var theUrl = baseUrl+'serve/v1/coin/chartscroller?fsyms=BTC,ETH,XMR,LTC&tsyms=USD,EUR,CNY,GBP';
					s.src = theUrl + ( theUrl.indexOf("?") >= 0 ? "&" : "?") + "app=" + appName;
					embedder.parentNode.appendChild(s);
					})();
				</script>
			</div>
	<div class="row">
		  <aside>
            <script type="text/javascript">
                baseUrl = "https://widgets.cryptocompare.com/";
                var scripts = document.getElementsByTagName("script");
                var embedder = scripts[ scripts.length - 1 ];
                var cccTheme = {"Conversion":{"lineHeight":"50px"}};
                (function (){
                var appName = encodeURIComponent(window.location.hostname);
                if(appName==""){appName="local";}
                var s = document.createElement("script");
                s.type = "text/javascript";
                s.async = true;
                var theUrl = baseUrl+'serve/v1/coin/multi?fsyms=BTC,ETH,DOGE,SHIB,XRP,LTC,ETC&tsyms=USD,EUR,CNY,GBP';
                s.src = theUrl + ( theUrl.indexOf("?") >= 0 ? "&" : "?") + "app=" + appName;
                embedder.parentNode.appendChild(s);
                })();
            </script>

        </aside>

				<div class="col-lg-7 col-md-7 col-12 pr-lg-5 pr-md-5 pr-sm-0 pr-0 mb-lg-0 mb-md-4 mb-sm-4 mb-4">
					<div class="table-responsive">
						<table class="bitland-table table table-striped table-hover">
							<thead>
								<tr>
									<th scope="col">User</th>
                                    <th scope="col">Trading Asset</th>
									<th scope="col">Amount</th>
									<th scope="col">Price in USD</th>
									<th scope="col">Accepted Asset</th>
									<th scope="col">Deal</th>
								</tr>
							</thead>
							<tbody>
                                 {% for ad in all_ads %}
                                     <tr>
										 <td class = "btn-style btn-filled"><a style="color:black" href="/viewUserProfile/{{ ad.email }}"> {{ ad.email }}</a> </td>


                                        <td><img src="{{ coin_dict[ad.advertiser_offering]['image'] }}" alt="{{ coin_dict[ad.advertiser_offering]['name'] }}" width="50" height="50"/>(<a href="/coin/{{ coin_dict[ad.advertiser_offering]['name'] }}">{{ ad.advertiser_offering|upper }}</a>)</td>
                                         <td>{{ ad.offering_amount }}</td>
                                        <td>{{ ad.sell_price }}</td>
                                        <td><img src="{{ coin_dict[ad.advertiser_accepting]['image'] }}" alt="{{ coin_dict[ad.advertiser_accepting]['name'] }}" width="50" height="50"/>(<a href="/coin/{{ coin_dict[ad.advertiser_accepting]['name'] }}">{{ ad.advertiser_accepting|upper }}</a>)</td>
										<td class = "btn-style btn-filled"><a style="color:black" href="/tradeDeal/{{ ad.ad_id }}"> Trade </a> </td>
                                     </tr>


                                 {% endfor %}
							</tbody>
						</table>
					</div>
                </div>
    </div>
        </div>
  </section>



{% endblock peer2peer %}